# websocket_chat

### Описание протокола общения с сервером:

* `ping`, `pong` — ping-pong
* `{'mtype': 'INIT', 'id': 'ABCDEFGH'}` — инициализация, отправляется при входе пользователя в систему
    - `id`: идентификатор пользователя
* `{'mtype': 'TEXT', 'id': 'IDFROM', 'to': 'IDTO', 'text': 'message text'}` — отправка сообщения
    - `id`: идентификатор отправителя
    - `to`: идентификатор получателя (если пустой, сообщение отправляется всем)
    - `text`: текст сообщения
* `{'mtype': 'MSG', 'id': 'IDFROM', 'text': 'message'}` — сообщение с текстом `text` от пользователя `id`
* `{'mtype': 'DM', 'id': 'IDFROM', 'text': 'message'}` — «приватное» сообщение с текстом `text` от пользователя `id`
* `{'mtype': 'USER_ENTER', 'id': 'USERID'}` — служебное сообщение «пользователь `id` вошёл в чат»
* `{'mtype': 'USER_LEAVE', 'id': 'USERID'}` — служебное сообщение «пользователь `id` вышел из чата»
